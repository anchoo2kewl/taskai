#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run web tests
echo "â†’ Running frontend tests..."
cd web && npm test -- --run --passWithNoTests || {
  echo "âŒ Frontend tests failed"
  exit 1
}
cd ..

# Run API tests  
echo "â†’ Running backend tests..."
cd api && go test ./... -short || {
  echo "âŒ Backend tests failed"
  exit 1
}
cd ..

echo "âœ… All tests passed"
